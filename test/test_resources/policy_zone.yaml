tosca_definitions_version: tosca_simple_yaml_1_1_0
topology_template:
  policies:
    - zone:
        type: onap.policies.native.opa
        type_version: 1.0.0
        properties:
          data:
             node.zone: ewogICJ6b25lIjogewogICAgInpvbmVfYWNjZXNzX2xvZ3MiOiBbCiAgICAgIHsgImxvZ19pZCI6ICJsb2cxIiwgInRpbWVzdGFtcCI6ICIyMDI0LTExLTAxVDA5OjAwOjAwWiIsICJ6b25lX2lkIjogInpvbmVBIiwgImFjY2VzcyI6ICJncmFudGVkIiwgInVzZXIiOiAidXNlcjEiIH0sCiAgICAgIHsgImxvZ19pZCI6ICJsb2cyIiwgInRpbWVzdGFtcCI6ICIyMDI0LTExLTAxVDEwOjMwOjAwWiIsICJ6b25lX2lkIjogInpvbmVBIiwgImFjY2VzcyI6ICJkZW5pZWQiLCAidXNlciI6ICJ1c2VyMiIgfSwKICAgICAgeyAibG9nX2lkIjogImxvZzMiLCAidGltZXN0YW1wIjogIjIwMjQtMTEtMDFUMTE6MDA6MDBaIiwgInpvbmVfaWQiOiAiem9uZUIiLCAiYWNjZXNzIjogImdyYW50ZWQiLCAidXNlciI6ICJ1c2VyMyIgfQogICAgXQogIH0KfQo=
          policy:
            zone : cGFja2FnZSB6b25lCgppbXBvcnQgcmVnby52MQoKZGVmYXVsdCBhbGxvdyA6PSBmYWxzZQoKYWxsb3cgaWYgewogICAgaGFzX3pvbmVfYWNjZXNzCiAgICBhY3Rpb25faXNfbG9nX3ZpZXcKfQoKYWN0aW9uX2lzX2xvZ192aWV3IGlmIHsKICAgICJ2aWV3IiBpbiBpbnB1dC5hY3Rpb25zCn0KCmhhc196b25lX2FjY2VzcyBjb250YWlucyBhY2Nlc3NfZGF0YSBpZiB7CiAgICBzb21lIHpvbmVfZGF0YSBpbiBkYXRhLm5vZGUuem9uZS56b25lLnpvbmVfYWNjZXNzX2xvZ3MKICAgIHpvbmVfZGF0YS50aW1lc3RhbXAgPj0gaW5wdXQudGltZV9wZXJpb2QuZnJvbQogICAgem9uZV9kYXRhLnRpbWVzdGFtcCA8IGlucHV0LnRpbWVfcGVyaW9kLnRvCiAgICB6b25lX2RhdGEuem9uZV9pZCA9PSBpbnB1dC56b25lX2lkCiAgICBhY2Nlc3NfZGF0YSA6PSB7ZGF0YXR5cGU6IHpvbmVfZGF0YVtkYXRhdHlwZV0gfCBkYXRhdHlwZSBpbiBpbnB1dC5kYXRhdHlwZXN9Cn0K
        name: zone
        version: 1.0.0
        metadata:
          policy-id: zone
          policy-version: 1.0.0
