tosca_definitions_version: tosca_simple_yaml_1_1_0
topology_template:
  policies:
    - monitor:
        type: onap.policies.native.opa
        type_version: 1.0.0
        properties:
          data:
            node.monitor: eyAiZG9tYWluIjogIm1lYXN1cmVtZW50c0ZvclZmU2NhbGluZyIsCiAgIm1ldHJpY3NQZXJFdmVudE5hbWUiOiBbewogICAgICAgICAgImV2ZW50TmFtZSI6ICJNZWFzdXJlbWVudF92R01VWCIsCiAgICAgICAgICAiY29udHJvbExvb3BTY2hlbWFUeXBlIjogIlZORiIsCiAgICAgICAgICAicG9saWN5U2NvcGUiOiAiRENBRSIsCiAgICAgICAgICAicG9saWN5TmFtZSI6ICJEQ0FFLkNvbmZpZ190Y2EtaGktbG8iLAogICAgICAgICAgICJwb2xpY3lWZXJzaW9uIjogInYwLjAuMSIsCiAgICAgICAgICAgInRocmVzaG9sZHMiIDogW3sidmVyc2lvbiI6ICIxLjAuMiIsCiAgICAgICAgICAgICJjbG9zZWRMb29wQ29udHJvbE5hbWUiOiAiQ29udHJvbExvb3AtdkNQRS00OGYwYzJjMy1hMTcyLTQxOTItOWFlMy0wNTIyNzQxODFiNmUiLAogICAgICAgICAgICAidGhyZXNob2xkVmFsdWUiOiAwCiAgICAgICAgICAgICB9XQp9XQp9
          policy:
            monitor: cGFja2FnZSBtb25pdG9yCgojIFBvbGljeSBhbGxvd3MgaWYgYSBtYXRjaGluZyB0aHJlc2hvbGQgaXMgbWV0CnJlc3VsdCBjb250YWlucyBvdXRwdXQgaWYgewogICAgaW5wdXQuZG9tYWluID0gZGF0YS5ub2RlLm1vbml0b3IuZG9tYWluCiAgICBzb21lIGV2ZW50cyAgaW4gZGF0YS5ub2RlLm1vbml0b3IubWV0cmljc1BlckV2ZW50TmFtZQogICAgZXZlbnRzLmV2ZW50TmFtZSA9PSBpbnB1dC5ldmVudE5hbWUKICAgIGV2ZW50cy5jb250cm9sTG9vcFNjaGVtYVR5cGUgPT0gaW5wdXQuY29udHJvbExvb3BTY2hlbWFUeXBlCiAgICBldmVudHMucG9saWN5U2NvcGUgPT0gaW5wdXQucG9saWN5U2NvcGUKICAgIGV2ZW50cy5wb2xpY3lOYW1lID09IGlucHV0LnBvbGljeU5hbWUKICAgIGV2ZW50cy5wb2xpY3lWZXJzaW9uID09IGlucHV0LnBvbGljeVZlcnNpb24KICAgIHNvbWUgdmFsdWUgaW4gZXZlbnRzLnRocmVzaG9sZHMKICAgIGlucHV0LmNvbnRyb2xuYW1lID09IHZhbHVlLmNsb3NlZExvb3BDb250cm9sTmFtZQogICAgaW5wdXQudmVyc2lvbiA9PSB2YWx1ZS52ZXJzaW9uCiAgICBpbnB1dC50aHJlc2hvbGRWYWx1ZSA9PSB2YWx1ZS50aHJlc2hvbGRWYWx1ZQogICAgb3V0cHV0IDo9IHsKICAgICAgICAic2V2ZXJpdHkiIDogIk1BSk9SIiwKICAgICAgICAiY2xvc2VkTG9vcEV2ZW50U3RhdHVzIiA6ICJBQkFURUQiCiAgICAgICAgfQp9CgojIFBvbGljeSBhbGxvd3MgaWYgYSBtYXRjaGluZyB0aHJlc2hvbGQgaXMgbWV0CnJlc3VsdCBjb250YWlucyBvdXRwdXQgaWYgewogICAgaW5wdXQuZG9tYWluID0gZGF0YS5ub2RlLm1vbml0b3IuZG9tYWluCiAgICBzb21lIGV2ZW50cyAgaW4gZGF0YS5ub2RlLm1vbml0b3IubWV0cmljc1BlckV2ZW50TmFtZQogICAgZXZlbnRzLmV2ZW50TmFtZSA9PSBpbnB1dC5ldmVudE5hbWUKICAgIGV2ZW50cy5jb250cm9sTG9vcFNjaGVtYVR5cGUgPT0gaW5wdXQuY29udHJvbExvb3BTY2hlbWFUeXBlCiAgICBldmVudHMucG9saWN5U2NvcGUgPT0gaW5wdXQucG9saWN5U2NvcGUKICAgIGV2ZW50cy5wb2xpY3lOYW1lID09IGlucHV0LnBvbGljeU5hbWUKICAgIGV2ZW50cy5wb2xpY3lWZXJzaW9uID09IGlucHV0LnBvbGljeVZlcnNpb24KICAgIHNvbWUgdmFsdWUgaW4gZXZlbnRzLnRocmVzaG9sZHMKICAgIGlucHV0LmNvbnRyb2xuYW1lID09IHZhbHVlLmNsb3NlZExvb3BDb250cm9sTmFtZQogICAgaW5wdXQudmVyc2lvbiA9PSB2YWx1ZS52ZXJzaW9uCiAgICBpbnB1dC50aHJlc2hvbGRWYWx1ZSA+IHZhbHVlLnRocmVzaG9sZFZhbHVlCiAgICBvdXRwdXQgOj0gewogICAgICAgICJzZXZlcml0eSIgOiAiQ1JJVElDQUwiLAogICAgICAgICJjbG9zZWRMb29wRXZlbnRTdGF0dXMiIDogIk9OU0VUIgogICAgICAgIH0KfQ== 
        name: monitor
        version: 1.0.0
        metadata:
          policy-id: monitor
          policy-version: 1.0.0
